(()=>{"use strict";var n={705:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,i,r){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},742:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},738:n=>{n.exports=function(n){return n[1]}},769:(n,e,t)=>{t.d(e,{Z:()=>ln});var o=t(738),i=t.n(o),r=t(705),a=t.n(r),l=t(742),s=t.n(l),c=new URL(t(308),t.b),d=new URL(t(506),t.b),u=new URL(t(669),t.b),f=new URL(t(936),t.b),p=new URL(t(39),t.b),v=new URL(t(813),t.b),g=new URL(t(837),t.b),m=new URL(t(746),t.b),h=new URL(t(735),t.b),b=new URL(t(58),t.b),w=new URL(t(685),t.b),y=new URL(t(810),t.b),x=new URL(t(199),t.b),k=new URL(t(731),t.b),S=new URL(t(460),t.b),L=new URL(t(529),t.b),C=new URL(t(261),t.b),I=new URL(t(60),t.b),T=new URL(t(70),t.b),z=new URL(t(660),t.b),A=new URL(t(355),t.b),R=new URL(t(121),t.b),M=new URL(t(479),t.b),B=new URL(t(28),t.b),E=new URL(t(994),t.b),U=a()(i()),P=s()(c),$=s()(d),O=s()(u),j=s()(f),N=s()(p),q=s()(v),D=s()(g),W=s()(m),H=s()(h),J=s()(b),F=s()(w),Z=s()(y),_=s()(x),X=s()(k),Y=s()(S),Q=s()(L),G=s()(C),K=s()(I),V=s()(T),nn=s()(z),en=s()(A),tn=s()(R),on=s()(M),rn=s()(B),an=s()(E);U.push([n.id,`@font-face {\n    font-family: Roboto-Light;\n    src: url(${P})\n}\n\n@font-face {\n    font-family: Roboto-Medium-numbers-only;\n    src: url(${$})\n}\n\nbody {\n    font-family: Roboto-Light;\n    margin: 0px;\n    width: 100%;\n    min-height: 100vh;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n            user-select: none;\n    -o-object-fit: contain;\n       object-fit: contain;\n    text-align: center;\n    /* background-color: brown; */\n}\n\n#loading {\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 40px;\n    position: absolute;\n    top: 40%;\n    left: 0;\n    right: 0;\n}\n\n#container {\n    display: none;\n    max-height: 95vh;\n    overflow: hidden;\n    max-width: 95%;\n    aspect-ratio: 1 / 1.45;\n    position: relative;\n    text-align: center;\n    /* outline: 1px solid red; */\n    outline-offset: -5px;\n}\n\n#header {\n    /* outline: 1px solid orange; */\n    /* height: 35px; */\n    /* margin-bottom: 5px; */\n    /* margin-left: 2px; */\n    margin-top: 5px;\n    text-align: left;\n    width: calc( 100% - 10px );\n    display: inline-flex;\n    white-space: nowrap;\n    color: #50504e;\n    /* background-color: #f55252; */\n}\n\n#header * {\n    /* height: 100%; */\n    display: inline-block;\n    background-size: contain !important;\n    /* outline: 1px solid red; */\n}\n\n#menu-icon {\n    background: url(${O}) no-repeat;\n    aspect-ratio: 1 / 1;\n    width: calc(100% / 12);\n    z-index: 2;\n}\n\n#logo {\n    background: url(${j}) no-repeat;\n    aspect-ratio: 2.8 / 1;\n    /* outline: 1px solid orange; */\n    width: calc(100% / 4.3)\n}\n\n.empty {\n    flex-grow: 1;\n}\n\n#help-icon {\n    background: url(${N}) no-repeat;\n    aspect-ratio: 1 / 1;\n    /* float: right; */\n    width: calc(100% / 12)\n}\n\n#board {\n    display: inline-block;\n    min-width: 100%;\n    aspect-ratio: 1 / 1;\n}\n\n#board-canvas {\n    height: 100%;\n    width: 100%;\n    display: none;\n    aspect-ratio: 1 / 1;\n}\n\n#controls {\n    /* font-family: "Comfortaa"; */\n    display: inline-block;\n    width: calc( 100% - 10px );\n    /* outline: 1px solid red; */\n    margin-top: 10px;\n    /* background-color: #d25151; */\n}\n\n#controls * {\n    /* outline: 1px solid red; */\n}\n\n\n#numpad {\n    text-align: left;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    /* vertical-align: middle; */\n    /* outline: 2px solid #db2a2a; */\n}\n\n#painting-pad {\n    width: 100%;\n    display: none;\n    justify-content: space-between;\n    /* outline: 2px solid #db2a2a; */\n}\n\n#num-1 {\n    background: url(${q}) no-repeat;\n}\n#num-2 {\n    background: url(${D}) no-repeat;\n}\n#num-3 {\n    background: url(${W}) no-repeat;\n}\n#num-4 {\n    background: url(${H}) no-repeat;\n}\n#num-5 {\n    background: url(${J}) no-repeat;\n}\n#num-6 {\n    background: url(${F}) no-repeat;\n}\n#num-7 {\n    background: url(${Z}) no-repeat;\n}\n#num-8 {\n    background: url(${_}) no-repeat;\n}\n#num-9 {\n    background: url(${X}) no-repeat;\n}\n\n\n\n.num {\n    display: inline-block;\n    position: relative;\n    background-size: contain !important;\n    background-position: center !important;\n    width: calc( 100% / 17);\n    vertical-align: middle;\n    text-align: center;\n    color: white;\n    aspect-ratio: 1 / 1;\n    /* line-height: 100%; */\n    /* outline: 2px solid #d30707; */\n}\n\n#painting-pad .num {\n    width: calc( 100% / 12);\n    /* outline: 1px solid #969696; */\n    /* outline-offset: -1px; */\n}\n\n#pp-num1 {\n    background-color: #7fea83;\n}\n\n#pp-num2 {\n    background-color: #f58a8a;\n}\n\n#pp-num3 {\n    background-color: #91c1f4;\n}\n\n#pp-num4 {\n    background-color: #eef872;\n}\n\n#pp-num5 {\n    background-color: #f2ad61;\n}\n\n#pp-num6 {\n    background-color: #f780f1;\n}\n\n#pp-num7 {\n    background-color: #a2f2d6;\n}\n\n#pp-num8 {\n    background-color: #c3b0a4;\n}\n\n#pp-num9 {\n    background-color: #afe66c;\n}\n\n#remove-color {\n    background-color: white;\n    outline: 1px solid #969696;\n    outline-offset: -1px;\n}\n\n#num-zero {\n    background: url(${Y}) no-repeat;\n    background-size: contain;\n    display: inline-block;\n    width: calc( 100% / 12);\n}\n\n#num-all {\n    background: url(${Q}) no-repeat;\n    background-size: contain;\n    display: inline-block;\n    width: calc( 100% / 12);\n}\n\n#controls-row-1 {\n    display: inline-block;\n    width: 100%;\n    margin-bottom: 20px;\n    white-space: nowrap;\n    /* outline: 3px solid green; */\n}\n\n#controls-row-2 {\n    display: inline-flex;\n    justify-content: space-between;\n    width: calc( 100% - 10px);\n    white-space: nowrap;\n    margin-bottom: 10px;\n    /* outline: 1px solid #4942c9; */\n}\n\n#solving-mode-number {\n    background: url(${G}) no-repeat;\n}\n\n#solving-mode-central {\n    background: url(${K}) no-repeat;\n}\n\n#solving-mode-corner {\n    background: url(${V}) no-repeat;\n}\n\n#solving-mode-painting {\n    background: url(${nn}) no-repeat;\n}\n\n.select-mode-elem {\n    width: 30%;\n    background-size: cover !important;\n    display: inline-block;\n    aspect-ratio: 1 / 1 !important;\n}\n\n.select-mode-elem-active {\n    outline: 3px solid #ff8d00;\n    z-index: 1;\n}\n\n.writing-mode-elem {\n    width: 23%;\n    background-size: cover !important;\n    display: inline-block;\n    aspect-ratio: 1 / 1;\n}\n\n.writing-mode-elem-active {\n    outline: 3px solid #00ffd0;\n    z-index: 1;\n}\n\n#undo-button {\n    background: url(${en}) no-repeat;\n    /* outline: 1px solid #c94242; */\n}\n\n#redo-button {\n    background: url(${tn}) no-repeat;\n    /* outline: 1px solid #cf2dc4; */\n}\n\n#undo-button, #redo-button {\n    width: 45%;\n    background-size: contain !important;\n    display: inline-block;\n    aspect-ratio: 1 / 1;\n    /* margin: 0px -1px; */\n}\n\n\n#select-mode-one {\n    background: url(${on}) no-repeat;\n}\n\n#select-mode-multi {\n    background: url(${rn}) no-repeat;\n}\n\n#select-mode-all {\n    background: url(${an}) no-repeat;\n}\n\n#solving-mode-types {\n    display: inline-flex;\n    justify-content: space-between;\n    width: calc( 100% / 11 * 3.4);\n    white-space: nowrap;\n    /* border-bottom: 2px solid #78f7e0; */\n    outline: 1px solid #8f8f8c;\n    outline-offset: 5px;\n}\n\n#select-modes {\n    display: inline-flex;\n    justify-content: space-between;\n    width: calc( 100% / 11 * 2.5);\n    white-space: nowrap;\n    /* border-bottom: 2px solid #fcaf50; */\n    outline: 1px solid #8f8f8c;\n    outline-offset: 5px;\n}\n\n#undo-redo-panel {\n    display: inline-flex;\n    justify-content: space-between;\n    width: calc( 100% / 11 * 1.6);\n    /* text-align: right; */\n    white-space: nowrap;\n    /* outline: 1px solid #4942c9; */\n}\n\n#menu, #help {\n    display: none;\n    background: rgb(252 202 240 / 80%);\n    z-index: 1;\n    position: absolute;\n    height: 93%;\n    top: 6%;\n    width: 100%;\n    text-align: left;\n    font-size: 25px;\n}\n\n#help {\n    display: block;\n    background: rgb(153 241 199 / 80%);\n    text-align: center;\n}\n\n#site-menu {\n    display: inline-block;\n    width: 35%;\n    margin: 5%;\n    /* outline: 3px solid #ff8d00; */\n    vertical-align: top;\n}\n\n#puzzle-menu {\n    display: inline-block;\n    width: 45%;\n    margin: 5% 0%;\n    /* outline: 3px solid #ff8d00; */\n}\n\n#site-menu > * > * {\n    display: block;\n    background-color: #50504e;\n    color: white;\n    padding: 10px;\n    margin: 0px 0px 10px;\n}\n\n#puzzle-menu > * > * {\n    display: block;\n    background-color: #50504e;\n    color: white;\n    padding: 10px;\n    margin: 0px 0px 10px;\n}\n\n#help-description {\n    background-color: #50504e;\n    color: white;\n    width: 70%;\n    display: inline-block;\n    margin-top: 20px;\n    text-align: left;\n    padding: 10px;\n}\n\n#help-ok {\n    display: inline-block;\n    background-color: #50504e;\n    color: white;\n    padding: 10px 20px;\n    margin: 20px 0px;\n}\n`,""]);const ln=U},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},a=[],l=0;l<n.length;l++){var s=n[l],c=o.base?s[0]+o.base:s[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var f=t(u),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var v=i(p,o);o.byIndex=l,e.splice(l,0,{identifier:u,updater:v,references:1})}a.push(u)}return a}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var r=o(n=n||[],i=i||{});return function(n){n=n||[];for(var a=0;a<r.length;a++){var l=t(r[a]);e[l].references--}for(var s=o(n,i),c=0;c<r.length;c++){var d=t(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=s}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,i&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},813:(n,e,t)=>{n.exports=t.p+"331a5bd5fa18e53a1660.webp"},837:(n,e,t)=>{n.exports=t.p+"7171749767d45528e299.webp"},746:(n,e,t)=>{n.exports=t.p+"c17559907b6eaf6981a7.webp"},735:(n,e,t)=>{n.exports=t.p+"242bb3c455ca1e04ffa1.webp"},58:(n,e,t)=>{n.exports=t.p+"5c07e957b17a4559786e.webp"},685:(n,e,t)=>{n.exports=t.p+"fc166be195c487c45fd5.webp"},810:(n,e,t)=>{n.exports=t.p+"644e0f18e45a935d0324.webp"},199:(n,e,t)=>{n.exports=t.p+"0f573c126ced33d7733e.webp"},731:(n,e,t)=>{n.exports=t.p+"89efa43eeca2a9198831.webp"},529:(n,e,t)=>{n.exports=t.p+"7a4e6d489532be634a6f.webp"},355:(n,e,t)=>{n.exports=t.p+"1b1821fb592ab1190910.webp"},121:(n,e,t)=>{n.exports=t.p+"9fd7c654330dfa36719f.webp"},39:(n,e,t)=>{n.exports=t.p+"5e8ff8c738c88a95dd42.webp"},936:(n,e,t)=>{n.exports=t.p+"90e69c7bc40adfe4209c.webp"},669:(n,e,t)=>{n.exports=t.p+"360157de7c2c3e27fe05.webp"},660:(n,e,t)=>{n.exports=t.p+"e4308cfb4a4062e50e9d.webp"},994:(n,e,t)=>{n.exports=t.p+"7424ec148d8a3d7810fb.webp"},28:(n,e,t)=>{n.exports=t.p+"05a4b6023e221747b62e.webp"},479:(n,e,t)=>{n.exports=t.p+"5e1e4447bde126b043c7.webp"},460:(n,e,t)=>{n.exports=t.p+"271d87fa2dc382673a31.webp"},60:(n,e,t)=>{n.exports=t.p+"4b7da278972b3d566712.webp"},70:(n,e,t)=>{n.exports=t.p+"93e91a8fa746a120c741.webp"},261:(n,e,t)=>{n.exports=t.p+"50d435e2df4c31b0f5da.webp"},308:(n,e,t)=>{n.exports=t.p+"./assets/Roboto-Light.ttf"},506:(n,e,t)=>{n.exports=t.p+"./assets/Roboto-Medium-numbers-only.ttf"}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&!n;)n=o[i--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var n={getPoints:function(n){return this.pointsByAmount[n]},colors:{1:"#7fea83",2:"#f58a8a",3:"#91c1f4",4:"#eef872",5:"#f2ad61",6:"#f780f1",7:"#a2f2d6",8:"#c3b0a4",9:"#afe66c"},pointsByAmount:{1:[[[1,1],[0,1],[0,0],[1,0],[1,1]]],2:[[[.66,1],[0,1],[0,0],[.33,0],[.66,1]],[[.66,1],[1,1],[1,0],[.33,0],[.66,1]]],3:[[[.66,1],[0,1],[0,.33],[.5,.5],[.66,1]],[[0,.33],[0,0],[1,0],[.5,.5],[0,.33]],[[1,0],[1,1],[.66,1],[.5,.5],[1,0]]],4:[[[.66,1],[0,1],[0,.66],[.5,.5],[.66,1]],[[0,.66],[0,0],[.33,0],[.5,.5],[0,.66]],[[.33,0],[1,0],[1,.33],[.5,.5],[.33,0]],[[1,.33],[1,1],[.66,1],[.5,.5],[1,.33]]],5:[[[.66,1],[0,1],[0,.8],[.5,.5],[.66,1]],[[0,.8],[0,0],[.5,.5],[0,.8]],[[0,0],[.8,0],[.5,.5],[0,0]],[[.8,0],[1,0],[1,.5],[.5,.5],[.8,0]],[[1,.5],[1,1],[.66,1],[.5,.5],[1,.5]]],6:[[[.66,1],[0,1],[.5,.5],[.66,1]],[[0,1],[0,.33],[.5,.5],[.1]],[[0,.33],[0,0],[.33,0],[.5,.5],[0,.33]],[[.33,0],[1,0],[.5,.5],[.33,0]],[[1,0],[1,.66],[.5,.5],[1,0]],[[1,.66],[1,1],[.66,1],[.5,.5],[1,.66]]],7:[[[.66,1],[.1,1],[.5,.5],[.66,1]],[[.1,1],[0,1],[0,.53],[.5,.5],[.1,1]],[[0,.53],[0,0],[.5,.5],[0,.53]],[[0,0],[.66,0],[.5,.5],[0,0]],[[.66,0],[1,0],[1,.2],[.5,.5],[.66,0]],[[1,.2],[1,.77],[.5,.5],[1,.2]],[[1,.77],[1,1],[.66,1],[.5,.5],[1,.77]]],8:[[[.66,1],[.16,1],[.5,.5],[.66,1]],[[.16,1],[0,1],[0,.66],[.5,.5],[.16,1]],[[0,.66],[0,.16],[.5,.5],[0,.66]],[[0,.16],[0,0],[.33,0],[.5,.5],[0,.16]],[[.33,0],[.83,0],[.5,.5],[.33,0]],[[.83,0],[1,0],[1,.33],[.5,.5],[.83,0]],[[1,.33],[1,.83],[.5,.5],[1,.33]],[[1,.83],[1,1],[.66,1],[.5,.5],[1,.83]]],9:[[[.66,1],[.15,1],[.5,.5],[.66,1]],[[.15,1],[0,1],[0,.7],[.5,.5],[.15,1]],[[0,.7],[0,.26],[.5,.5],[0,.7]],[[0,.26],[0,0],[.18,0],[.5,.5],[0,.26]],[[.18,0],[.64,0],[.5,.5],[.18,0]],[[.64,0],[1,0],[.5,.5],[.64,0]],[[1,0],[1,.4],[.5,.5],[1,0]],[[1,.4],[1,.85],[.5,.5],[1,.4]],[[1,.85],[1,1],[.66,1],[.5,.5],[1,.85]]]}},e=t(379),o=t.n(e),i=t(795),r=t.n(i),a=t(569),l=t.n(a),s=t(565),c=t.n(s),d=t(216),u=t.n(d),f=t(589),p=t.n(f),v=t(769),g={};function m(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return h(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return a=n.done,n},e:function(n){l=!0,r=n},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw r}}}}function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}g.styleTagTransform=p(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var b={elem:{},color:"",solvingColor:"",cellSize:0,padding:0,data:{},selection:[],isCtrlPressed:!1,thinLineThickness:0,fatLineThickness:0,init:function(){this.elem=document.getElementById("board-canvas"),this.color="#50504e",this.solvingColor="#3369b1";var n=this.elem;this.cellSize=100,this.padding=10,n.height=0,n.width=0,b.thinLineThickness=2,b.fatLineThickness=5,this.data=JSON.parse('{"rows":9,"columns":9,"borders":{"verticalArray":[[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2],[2,1,1,2,1,1,2,1,1,2]],"horizontalArray":[[2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2]]},"values":[[0,0,7,1,0,4,8,0,0],[0,0,4,3,5,9,1,0,0],[1,5,0,0,0,8,0,2,4],[4,1,2,0,0,0,0,5,8],[0,7,0,0,0,0,0,3,0],[8,9,0,0,0,0,7,4,1],[9,3,0,4,0,0,0,6,7],[0,0,5,9,1,7,2,0,0],[0,0,8,5,0,6,4,0,0]],"solving":[[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]],[[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]],[0,[],[]]]],"twins":[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],"inequals":{"horizontal":[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],"vertical":[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]},"cross":0,"chains":[],"blockOutlines":[],"name":"103"}'),b.selection=b.createMatrixSelectionArray(b.data.rows,b.data.columns),this.data.painting=this.createPaintingArray(this.data.rows,this.data.columns),this.solvingStack.step()},createMatrixSelectionArray:function(n,e){for(var t=[],o=0;o<n;o++){for(var i=[],r=0;r<e;r++)i.push(!1);t.push(i)}return t},createPaintingArray:function(n,e){for(var t=[],o=0;o<n;o++){for(var i=[],r=0;r<e;r++)i.push([]);t.push(i)}return t},solvingStack:{array:[],maxLength:50,currentIndex:0,maxIndex:0,step:function(){this.removeTail(),this.pushSolving();var n=this.array.length;n>this.maxLength&&this.array.shift(),n=this.array.length,this.currentIndex=this.maxIndex=n-1},back:function(){this.currentIndex<=0||(this.currentIndex-=1,this.useSolving(),b.draw())},forward:function(){this.currentIndex>=this.maxIndex||(this.currentIndex+=1,this.useSolving(),b.draw())},removeTail:function(){this.array.splice(this.currentIndex+1)},pushSolving:function(){var n=JSON.parse(JSON.stringify(b.data.solving));this.array.push(n)},useSolving:function(){var n=JSON.parse(JSON.stringify(this.array[this.currentIndex]));b.data.solving=n}},moveSelection:function(n){var e=0,t=0,o=0,i=0;n:for(t in b.selection)for(e in b.selection[t])if(1==b.selection[t][e]){e=+e,t=+t;break n}if("ArrowUp"==n){if(0==t)return;o=e,i=t-1}else if("ArrowDown"==n){if(t==b.data.rows-1)return;o=e,i=t+1}else if("ArrowLeft"==n){if(0==e)return;o=e-1,i=t}else if("ArrowRight"==n){if(e==b.data.columns-1)return;o=e+1,i=t}b.selection[t][e]=!1,b.selection[i][o]=!0,b.draw()},deSelectAll:function(){for(var n in this.selection)for(var e in this.selection[n])this.selection[n][e]=!1},selectAll:function(){for(var n in this.selection)for(var e in this.selection[n])this.selection[n][e]=!0},getSelected:function(){var n=b.selection;selectedArray=[];for(var e=0;e<n.length;e++)for(var t=0;t<n[e].length;t++)1==n[e][t]&&selectedArray.push([t,e]);return selectedArray},getCoordsByIndexes:function(n,e){var t=b.padding,o=b.cellSize,i=[0,0];return i[0]=t+n*o,i[1]=t+e*o,i},draw:function(){var e=this.elem,t=b.cellSize,o=b.padding;e.height=this.data.rows*t+2*o,e.width=this.data.columns*t+2*o;var i,r,a=e.getContext("2d"),l=function(n,e,t,o,i){var r=b.elem.getContext("2d");r.beginPath(),r.setLineDash([2,5]),r.moveTo(n,e),r.lineTo(t,o),r.strokeStyle=b.color,i&&(r.strokeStyle="#3fe94d"),r.lineWidth=b.thinLineThickness,r.stroke()},s=function(n,e,t){var o=b.elem.getContext("2d");o.beginPath(),o.fillStyle="#ffffff",o.rect(n+20,e+5,60,20),o.fill(),o.font="".concat(20,"px Roboto-Medium-numbers-only"),o.textAlign="center",o.fillStyle=b.color,o.fillText(t,n+50,e+20),o.textAlign="left"},c=function(n,e){var t,o,i=90,r=b.cellSize,a=n[0],l=n[1];return 1==e?(t=a+r-i,o=l+r-i):2==e?(t=a+i,o=l+r-i):3==e?(t=a+r-i,o=l+i):4==e&&(t=a+i,o=l+i),[t,o]};!function(){var e=b.elem.getContext("2d");for(var t in b.data.painting)for(var o in b.data.painting[t]){var i=b.data.painting[t][o],r=i.length;if(0==i.lenght)return;var a=n.getPoints(r);for(var l in a){var s=n.colors[i[l]];for(var c in e.fillStyle=s,e.beginPath(),a[l]){var d=a[l][c],u=b.getCoordsByIndexes(o,t),f=u[0]+d[0]*b.cellSize,p=u[1]+d[1]*b.cellSize;(c=0)?e.moveTo(f,p):e.lineTo(f,p)}e.fill()}}}(),function(){a.lineCap="round";for(var n=0;n<b.data.rows;n++)for(var e=0;e<=b.data.columns;e++){a.beginPath();var i=b.data.borders.verticalArray[n][e];if(0!=i){if(1==i){var r=b.thinLineThickness;a.lineWidth=r}else if(2==i){var l=b.fatLineThickness;a.lineWidth=l}var s=0+o+e*t,c=0+o+n*t,d=0+o+e*t,u=0+o+n*t+t;a.moveTo(s,c),a.lineTo(d,u),a.strokeStyle=b.color,a.stroke()}}for(var f=0;f<=b.data.rows;f++)for(var p=0;p<b.data.columns;p++){a.beginPath();var v=b.data.borders.horizontalArray[f][p];if(0!=v){if(1==v){var g=b.thinLineThickness;a.lineWidth=g}else if(2==v){var m=b.fatLineThickness;a.lineWidth=m}var h=0+o+p*t,w=0+o+f*t,y=0+o+p*t+t,x=0+o+f*t;a.moveTo(h,w),a.lineTo(y,x),a.strokeStyle=b.color,a.stroke()}}}(),function(){var n=b.elem,e=(n.getContext("2d"),b.padding),t=b.data.cross;if(0!=t)if(1==t){var o=0+e,i=n.height-e,r=n.width-e;l(o,i,r,0+e,!1)}else if(2==t){var a=0+e,s=0+e,c=n.width-e,d=n.height-e;l(a,s,c,d,!1)}else if(3==t){var u=0+e,f=n.height-e,p=n.width-e;l(u,f,p,0+e,!1);var v=0+e,g=0+e,m=n.width-e,h=n.height-e;l(v,g,m,h,!1)}}(),function(){var n,e=m(b.data.chains);try{for(e.s();!(n=e.n()).done;)for(var t=n.value,o=0;o<t.length-1;o++){var i=t[o][0],r=t[o][1],a=t[o+1][0],s=t[o+1][1],c=b.getCoordsByIndexes(i,r),d=b.getCoordsByIndexes(a,s);c[0]=c[0]+Math.round(b.cellSize/2),c[1]=c[1]+Math.round(b.cellSize/2),d[0]=d[0]+Math.round(b.cellSize/2),d[1]=d[1]+Math.round(b.cellSize/2),l(c[0],c[1],d[0],d[1],!1)}}catch(n){e.e(n)}finally{e.f()}}(),function(){if(0!=Object.keys(b.data.blockOutlines).length){var n,e=m(b.data.blockOutlines);try{for(e.s();!(n=e.n()).done;){for(var t=n.value,o=t.text,i=t.stepsArray,r=t.isSelected,a=0;a<i.length-1;a++){var d=i[a][2],u=i[a+1][2],f=i[a][0],p=i[a][1],v=i[a+1][0],g=i[a+1][1],h=c(b.getCoordsByIndexes(f,p),d),w=c(b.getCoordsByIndexes(v,g),u);l(h[0],h[1],w[0],w[1],r)}if(""!=o){var y=b.getCoordsByIndexes(i[0][0],i[0][1]);s(y[0],y[1],o)}}}catch(n){e.e(n)}finally{e.f()}}}(),function(){var n=b.elem.getContext("2d"),e=function(e,t,o,i){n.beginPath(),n.setLineDash([]),n.lineWidth=b.fatLineThickness,n.moveTo(e,t),n.lineTo(o,i),n.strokeStyle=b.color,n.stroke()};for(var t in b.data.twins)for(var o in b.data.twins[t]){o=+o,t=+t;var i=b.data.twins[t][o],r=b.getCoordsByIndexes(o+1,t+1),a=b.cellSize/5;0!=i&&(1==i?e(r[0]-a,r[1]+a,r[0]+a,r[1]-a):2==i?e(r[0]-a,r[1]-a,r[0]+a,r[1]+a):3==i&&(e(r[0]-a,r[1]+a,r[0]+a,r[1]-a),e(r[0]-a,r[1]-a,r[0]+a,r[1]+a)))}}(),function(){var n=b.elem.getContext("2d"),e=function(e,t,o,i){n.beginPath(),n.setLineDash([]),n.lineWidth=b.fatLineThickness,n.moveTo(e,t),n.lineTo(o,i),n.strokeStyle=b.color,n.stroke()};for(var t in b.data.inequals.horizontal)for(var o in b.data.inequals.horizontal[t]){o=+o,t=+t;var i=b.data.inequals.horizontal[t][o],r=b.getCoordsByIndexes(o+1,t);r[1]=r[1]+b.cellSize/2;var a=b.cellSize/6,l=b.cellSize/6;if(0!=i)if(1==i){var s=r[0]-a,c=r[1],d=r[0]+a,u=r[1]+l;e(s,c,d,u),e(s=r[0]-a,c=r[1],d=r[0]+a,u=r[1]-l)}else if(2==i){var f=r[0]+a,p=r[1],v=r[0]-a,g=r[1]+l;e(f,p,v,g),e(f=r[0]+a,p=r[1],v=r[0]-a,g=r[1]-l)}}for(var m in b.data.inequals.vertical)for(var h in b.data.inequals.vertical[m]){h=+h,m=+m;var w=b.data.inequals.vertical[m][h],y=b.getCoordsByIndexes(h,m+1);y[0]=y[0]+b.cellSize/2;var x=b.cellSize/6,k=b.cellSize/6;if(0!=w)if(3==w){var S=y[0],L=y[1]-k,C=y[0]+x,I=y[1]+k;e(S,L,C,I),e(S=y[0],L=y[1]-k,C=y[0]-x,I=y[1]+k)}else if(4==w){var T=y[0],z=y[1]+k,A=y[0]+x,R=y[1]-k;e(T,z,A,R),e(T=y[0],z=y[1]+k,A=y[0]-x,R=y[1]-k)}}}(),function(){var n=b.elem.getContext("2d");for(var e in b.data.values)for(var t in b.data.values[e])if(0!=b.data.values[e][t]){var o=b.getCoordsByIndexes(t,e),i=o[0]+28,r=o[1]+80,a=b.data.values[e][t];1==String(a).length?(i=o[0]+28,r=o[1]+80,n.font="80px Roboto-Medium-numbers-only"):2==String(a).length&&(i=o[0]+28,r=o[1]+88,n.font="36px Roboto-Medium-numbers-only"),n.fillStyle=b.color,n.fillText(a,i,r)}}(),function(){if(0!=y.visible){var n=function(n){var e=function(e){if(0!=b.data.values[n][e]&&1==b.data.values[n][e].toString().length)return 1;if(0!=b.data.solving[n][e][0]){var t=b.data.solving[n][e][0],o=b.getCoordsByIndexes(e,n),i=o[0]+b.cellSize/2,r=o[1]+80;a.font="80px Roboto-Medium-numbers-only",a.textAlign="center",a.fillStyle=b.solvingColor,a.fillText(t,i,r)}else{var l=function(t,o,i,r){var a=function(n,e,t,o,i,r){n.font="".concat(e,"px Roboto-Medium-numbers-only"),n.textAlign="center",n.fillStyle=t,n.fillText(o,i,r)},l=i.getCoordsByIndexes(e,n),s=l[0]+i.cellSize/2;if("one-row"==t){var c=l[1]+62;a(o,32,i.solvingColor,r,s,c)}else{var d=l[1]+45,u=l[1]+75,f=Math.ceil(r.length/2),p=r.split("").slice(0,f).join(""),v=r.split("").slice(f).join("");a(o,32,i.solvingColor,p,s,d),a(o,32,i.solvingColor,v,s,u)}},s=b.data.solving[n][e][1].join("");0!=s.length&&(s.length<=5?l("one-row",a,b,s):l("two-rows",a,b,s));var c=b.data.solving[n][e][2],d=0,u=0;for(var f in c){var p=c[f];if(0==f&&(d=-35,u=-25),1==f&&(d=35,u=-25),2==f&&(d=-35,u=45),3==f&&(d=35,u=45),4==f)break;var v=b.getCoordsByIndexes(e,n),g=v[0]+b.cellSize/2+d,m=v[1]+b.cellSize/2+u;a.font="30px Roboto-Medium-numbers-only",a.textAlign="center",a.fillStyle=b.solvingColor,a.fillText(p,g,m)}}};for(var t in b.data.solving[n])e(t)};for(var e in b.data.solving)n(e)}}(),i=function(n,e){var t=b.elem.getContext("2d"),o=b.getCoordsByIndexes(n,e),i=o[0],r=o[1];t.fillStyle="rgba(108, 189, 244, 0.2)",t.fillRect(i,r,b.cellSize,b.cellSize)},r=function(n,e,t){var o=function(n,e,t,o){var i=b.getCoordsByIndexes(t,o),r=i[0],a=i[1];e.globalAlpha=.4,e.strokeStyle="rgb(108, 189, 244)",e.lineWidth=20;var l={upLeft:[r,a],upRight:[r+b.cellSize,a],downLeft:[r,a+b.cellSize],downRight:[r+b.cellSize,a+b.cellSize]};if("up"==n){var s=l.upLeft,c=l.upRight;e.moveTo(s[0],s[1]),e.lineTo(c[0],c[1])}if("down"==n){var d=l.downLeft,u=l.downRight;e.moveTo(d[0],d[1]),e.lineTo(u[0],u[1])}if("left"==n){var f=l.upLeft,p=l.downLeft;e.moveTo(f[0],f[1]),e.lineTo(p[0],p[1])}if("right"==n){var v=l.upRight,g=l.downRight;e.moveTo(v[0],v[1]),e.lineTo(g[0],g[1])}},i=function(n,e){var t=function(n,e,t){return"up"==n?0!=t&&b.selection[t-1][e]:"down"==n?t!=b.data.rows-1&&b.selection[t+1][e]:"left"==n?0!=e&&b.selection[t][e-1]:"right"==n?e!=b.data.rows-1&&b.selection[t][e+1]:void 0};return{up:t("up",n,e),down:t("down",n,e),left:t("left",n,e),right:t("right",n,e)}}(n,e);i.up||o("up",t,n,e),i.down||o("down",t,n,e),i.left||o("left",t,n,e),i.right||o("right",t,n,e)},function(){var n=b.selection;for(var e in n)for(var t in n[e])1==n[e][t]&&i(t,e)}(),function(){var n=b.elem.getContext("2d");n.beginPath();var e=b.selection;for(var t in e)for(var o in e[t])1==e[t][o]&&r(+o,+t,n);n.lineCap="round",n.stroke()}()}},w={writing:{mode:"solving",insertMode:"number",solvingMode:"number"},selectMode:"one"},y={visible:!0,showHide:function(){var n=!this.visible;return this.visible=n,b.draw(),this.visible},remove:function(){b.data.solving=createMatrixSolvingArray(b.data.rows,b.data.columns),b.draw()},apply:function(){for(var n in b.data.solving)for(var e in b.data.solving[n]){var t=b.data.solving[n][e][0],o=b.data.solving[n][e][1];0!=t?(b.data.solving[n][e]=[0,[],[]],b.data.values[n][e]=t):1==o.length&&(b.data.solving[n][e]=[0,[],[]],b.data.values[n][e]=o[0])}b.draw()}},x=function(n){var e=document.querySelector("*:focus");if(null==e||"INPUT"!=e.tagName){var t=function(n,e,t,o){var i=w.writing.mode,r=w.writing.insertMode,a=w.writing.solvingMode;if(0!=n)if(999!=n){if("insert"==i){if("number"==r)b.data.values[t][e]=n,b.data.solving[t][e]=[0,[],[]];else if("pair"==r){var l=b.data.values[t][e],s=String(l).length;0==s?b.data.values[t][e]=String(n):1==s?b.data.values[t][e]=l+""+String(n):2==s&&(b.data.values[t][e]=String(l)[1]+String(n))}}else if("solving"==i){var c=b.data.values[t][e];if(0!=c&&1==c.toString().length&&"painting"!=a)return;if("number"==a)b.data.solving[t][e][0]=n;else if("central"==a){var d=b.data.solving[t][e][1];if(0!=b.data.solving[t][e][0])return;if(0==d.length)b.data.solving[t][e][1].push(n);else{var u=b.data.solving[t][e][1].indexOf(n);if(-1==u){b.data.solving[t][e][1].push(n);var f=b.data.solving[t][e][1].sort((function(n,e){return n-e}));b.data.solving[t][e][1]=f}else o||b.data.solving[t][e][1].splice(u,1)}}else if("corner"==a){var p=b.data.solving[t][e][2];if(0!=b.data.solving[t][e][0])return;if(0==p.length)b.data.solving[t][e][2].push(n);else{var v=b.data.solving[t][e][2].indexOf(n);if(-1==v){b.data.solving[t][e][2].push(n);var g=b.data.solving[t][e][2].sort((function(n,e){return n-e}));b.data.solving[t][e][2]=g}else o||b.data.solving[t][e][2].splice(v,1)}}else if("painting"==a)if(0==b.data.solving[t][e].length)b.data.painting[t][e].push(n);else{var m=b.data.painting[t][e].indexOf(n);if(-1==m){b.data.painting[t][e].push(n);var h=b.data.painting[t][e].sort((function(n,e){return n-e}));b.data.painting[t][e]=h}else o||b.data.painting[t][e].splice(m,1)}}}else{if(0!=b.data.values[t][e])return;for(var y=[],x=1;x<=b.data.rows&&x<=9;x++)y.push(x);b.data.solving[t][e][1]=y}else"painting"==a?b.data.painting[t][e]=[]:b.data.solving[t][e]=[0,[],[]]},o=function(){var e=w.writing.mode,t=w.writing.solvingMode;if("insert"==e)return!1;var o=!1,i=!1;for(var r in b.selection)for(var a in b.selection[r])if(0==b.data.values[r][a]&&1==b.selection[r][a]&&("number"==t?b.data.solving[r][a][0]==n?o=!0:i=!0:"central"==t?-1!=b.data.solving[r][a][1].indexOf(n)?o=!0:i=!0:"corner"==t?-1!=b.data.solving[r][a][2].indexOf(n)?o=!0:i=!0:"painting"==t&&(-1!=b.data.painting[r][a].indexOf(n)?o=!0:i=!0),o&&i))return!0;return!1}();for(var i in b.selection)for(var r in b.selection[i])1==b.selection[i][r]&&t(n,r,i,o)}},k=function(n){b.deSelectAll(),999!=n&&0!=n&&function(n){!function(){for(var e in b.data.values)for(var t in b.data.values[e])b.data.values[e][t]==n&&(b.selection[e][t]=!0)}(),function(){for(var e in b.data.solving)for(var t in b.data.solving[e]){var o=b.data.solving[e][t],i=o[0]==n,r=-1!=o[1].indexOf(n),a=-1!=o[2].indexOf(n);(i||r||a)&&(b.selection[e][t]=!0)}}(),b.draw()}(n)},S=function(n,e,t,o){var i,r,a,l,s,c,d,u;!function(n,e,t,o){n("numbers",e,t,o),n("color",e,t,o)}((function(n,e,t,o){var i;i="color"==n?document.querySelectorAll("#painting-pad .num"):document.querySelectorAll("#numpad .num");var r,a={isLongPress:!1,longPressHappened:!1},l=m(i);try{var s=function(){var i=r.value,l=+i.getAttribute("data-key"),s=function(n,e,t,o,i){t.isLongPress=!0,t.longPressHappened=!1,setTimeout((function(){1==t.isLongPress&&"color"!=o&&(t.longPressHappened=!0,i(n))}),600)},c=function(n,e,t,o,i,r){i.isLongPress=!1,i.longPressHappened||(e(t),n.draw(),"color"!=r&&n.solvingStack.step())};i.onmousedown=function(t){return s(l,0,a,n,e)},i.onmouseup=function(e){return c(t,o,l,0,a,n)},i.addEventListener("touchstart",(function(t){return function(n,e,t,o,i,r){n.preventDefault(),e(t,n,o,i,r)}(t,s,l,a,n,e)}),{passive:!1}),i.addEventListener("touchend",(function(e){return c(t,o,l,0,a,n)}))};for(l.s();!(r=l.n()).done;)s()}catch(n){l.e(n)}finally{l.f()}}),n,e,t),i=document.getElementById("numpad"),r=document.getElementById("painting-pad"),a=function(n,e){n.style.display="none",e.style.display="flex"},l=function(n,e){e.style.display="none",n.style.display="flex"},s=document.getElementById("solving-mode-number"),c=document.getElementById("solving-mode-central"),d=document.getElementById("solving-mode-corner"),u=document.getElementById("solving-mode-painting"),s.onclick=function(){return function(n,e,t,o,i,r,a,l){n(e,t),o.classList.remove("writing-mode-elem-active"),i.classList.remove("writing-mode-elem-active"),r.classList.add("writing-mode-elem-active"),a.classList.remove("writing-mode-elem-active"),l.writing.solvingMode="number"}(a,r,i,c,d,s,u,o)},c.onclick=function(){return function(n,e,t,o,i,r,a,l){n(e,t),o.classList.add("writing-mode-elem-active"),i.classList.remove("writing-mode-elem-active"),r.classList.remove("writing-mode-elem-active"),a.classList.remove("writing-mode-elem-active"),l.writing.solvingMode="central"}(a,r,i,c,d,s,u,o)},d.onclick=function(){return function(n,e,t,o,i,r,a,l){n(e,t),o.classList.remove("writing-mode-elem-active"),i.classList.add("writing-mode-elem-active"),r.classList.remove("writing-mode-elem-active"),a.classList.remove("writing-mode-elem-active"),l.writing.solvingMode="corner"}(a,r,i,c,d,s,u,o)},u.onclick=function(){return function(n,e,t,o,i,r,a,l){n(e,t),o.classList.remove("writing-mode-elem-active"),a.classList.add("writing-mode-elem-active"),i.classList.remove("writing-mode-elem-active"),r.classList.remove("writing-mode-elem-active"),l.writing.solvingMode="painting"}(l,r,i,c,d,s,u,o)}},L=function(n,e){var t=document.getElementById("select-mode-one"),o=document.getElementById("select-mode-multi"),i=document.getElementById("select-mode-all");t.onclick=function(){return function(n,e,t){t.classList.remove("select-mode-elem-active"),e.classList.add("select-mode-elem-active"),n.selectMode="one"}(e,t,o)},o.onclick=function(){return function(n,e,t){e.classList.remove("select-mode-elem-active"),t.classList.add("select-mode-elem-active"),n.selectMode="multi"}(e,t,o)},i.onclick=function(){return function(n){n.selectAll(),n.draw()}(n)}},C=function(n){var e=document.getElementById("menu-icon"),t=document.getElementById("menu"),o=document.getElementById("help-icon"),i=document.getElementById("help"),r=document.getElementById("help-ok");!function(n,e){n.style.display="none",e.onclick=function(){return function(n,e){"block"==n.style.display?n.style.display="none":(e.style.display="none",n.style.display="block")}(t,n)}}(i,e),function(n,e,t,o){n.onclick=e.onclick=function(){return function(n,e){"none"==n.style.display?(n.style.display="block",e.style.display="none"):n.style.display="none"}(t,o)}}(o,r,i,t)},I=function(n){var e=document.getElementById("undo-button"),t=document.getElementById("redo-button");e.onclick=function(){return n.solvingStack.back()},t.onclick=function(){return n.solvingStack.forward()}},T=function(n,e,t,o,i){new FontFace("Roboto-Medium-numbers-only-numbers-only","url(assets/Roboto-Medium-numbers-only.ttf)").load().then((function(){return function(n,t,i){performance.mark("start"),n.init(),n.draw(),C(),function(n,e){var t=function(n,e,t){for(var o=t.cellSize,i=t.padding,r=[0,0],a=0;a<t.data.columns;a++)if(n<=i+o*(a+1)){r[0]=a;break}for(var l=0;l<t.data.rows;l++)if(e<=i+o*(l+1)){r[1]=l;break}return r},o=function(n,e,t){var o=t.padding,i=t.elem;return n<o||e<o||n>i.width-o||e>i.height-o},i=function(n,e,t){var o,i,r=t.elem,a=0,l=0;if("desktop"==e)o=n.offsetX,i=n.offsetY;else{var s=r.getBoundingClientRect();o=n.targetTouches[0].clientX-s.left,i=n.targetTouches[0].clientY-s.top}var c=r.clientWidth,d=r.clientHeight;return 0!=o&&(a=Math.round(r.width*o/c)),0!=i&&(l=Math.round(r.height*i/d)),[a,l]},r={setOfCells:new Set,activity:!1},a=function(n,e,t,o,i,r,a,l){n.preventDefault(),e.setOfCells.clear(),e.activity=!0;var s=r(n,t,i),c=s[0],d=s[1];if(o(c,d,i))return!1;var u=a(c,d,i),f=i.selection[u[1]][u[0]];0==i.isCtrlPressed&&"one"==l.selectMode&&i.deSelectAll(),i.selection[u[1]][u[0]]=!f,i.draw()},l=function(n,e,t,o,i,r,a){if(n.preventDefault(),e.activity){var l=r(n,t,o),s=l[0],c=l[1],d=a(s,c,o);if(i(s,c,o))return!1;o.selection[d[1]][d[0]]=!0,o.draw()}},s=function(n){n.activity=!1},c=n.elem;c.onmousedown=function(l){return a(l,r,"desktop",o,n,i,t,e)},c.addEventListener("touchstart",(function(l){return a(l,r,"mobile",o,n,i,t,e)}),{passive:!1}),c.onmouseup=c.onmouseleave=function(){return s(r)},c.addEventListener("touchend",(function(){return s(r)})),c.onmousemove=function(e){return l(e,r,"desktop",n,o,i,t)},c.addEventListener("touchmove",(function(e){return l(e,r,"mobile",n,o,i,t)}),{passive:!1}),function(n){n.elem.style.display="block"}(n)}(n,t),S(o,n,e,t),L(n,t),I(n),function(n,e,t){t.body.onkeydown=function(t){return function(n,e,t,o,i,r,a){if("Escape"==n)return i.call(o),void r.call(o);if("Control"!=n){if("Delete"==n||"Backspace"==n)return a(0),o.draw(),void o.solvingStack.step();if("a"!=n)if("ArrowRight"!=n&&"ArrowLeft"!=n&&"ArrowUp"!=n&&"ArrowDown"!=n);else{var l=0;for(var s in o.selection)for(var c in o.selection[s])1==o.selection[s][c]&&l++;1==l&&(o.moveSelection(n),e.call(t))}else 1==o.isCtrlPressed&&(o.selectAll(),o.draw())}else o.isCtrlPressed=!0}(t.key,t.preventDefault,t,n,n.deSelectAll,n.draw,e)},t.body.onkeyup=function(t){return function(n,e,t){var o=n.key;"Control"==o&&(e.isCtrlPressed=!1),-1!=["1","2","3","4","5","6","7","8","9","0"].indexOf(o)&&(t(+o),e.draw(),e.solvingStack.step())}(t,n,e)}}(n,e,i),function(n,e){e.body.onclick=function(t){return function(n,e,t,o,i){(n==e||n.classList.contains("empty")||"container"==n.id||"controls-row-2"==n.id)&&(t.call(i),o.call(i))}(t.target,e.body,n.deSelectAll,n.draw,n)}}(n,i),function(n){n.getElementById("container").style.display="inline-block"}(i),function(n){n.getElementById("loading").style.display="none"}(i),performance.mark("end"),console.log("загрузка интерфейса: "+performance.measure("time","start","end").duration+" мс")}(n,t,i)}))};window.onload=function(){return T(b,x,w,k,document)}})()})();